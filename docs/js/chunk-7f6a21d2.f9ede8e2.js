(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f6a21d2"],{"13d9":function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},"25f0":function(e,t,n){"use strict";var o=n("6eeb"),a=n("825a"),c=n("d039"),r=n("ad6d"),i="toString",s=RegExp.prototype,l=s[i],u=c((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),p=l.name!=i;(u||p)&&o(RegExp.prototype,i,(function(){var e=a(this),t=String(e.source),n=e.flags,o=String(void 0===n&&e instanceof RegExp&&!("flags"in s)?r.call(e):n);return"/"+t+"/"+o}),{unsafe:!0})},"7ecd":function(e,t,n){"use strict";n("9b92")},"9b92":function(e,t,n){},ad6d:function(e,t,n){"use strict";var o=n("825a");e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d879:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),a=Object(o["P"])("data-v-3b1e423d");Object(o["w"])("data-v-3b1e423d");var c={id:"create"},r={key:0,class:"quick-order"},i=Object(o["i"])("h2",null,"訂單建立",-1),s=Object(o["i"])("p",null,[Object(o["i"])("strong",null,"建立快速選項")],-1),l={class:"input-container"},u={key:1,class:"share"},p=Object(o["i"])("h2",null,"分享訂單",-1),d=Object(o["h"])("複製訂單編號"),b=Object(o["h"])("複製連結"),f=Object(o["i"])("strong",null,"前往訂單 >",-1);Object(o["u"])();var O=a((function(e,t,n,a,O,y){var m=Object(o["B"])("icons");return Object(o["t"])(),Object(o["e"])("div",c,[""===e.refKey?(Object(o["t"])(),Object(o["e"])("div",r,[i,Object(o["M"])(Object(o["i"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.orderName=t}),placeholder:"訂單名稱"},null,512),[[o["I"],e.orderName]]),s,Object(o["i"])("div",l,[Object(o["M"])(Object(o["i"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.optionInput=t}),placeholder:"品項名稱",onKeypress:t[3]||(t[3]=Object(o["N"])((function(){return e.addOption&&e.addOption.apply(e,arguments)}),["enter"]))},null,544),[[o["I"],e.optionInput]]),Object(o["i"])("div",{class:"add-btn",onClick:t[4]||(t[4]=function(){return e.addOption&&e.addOption.apply(e,arguments)})},"新增")]),(Object(o["t"])(!0),Object(o["e"])(o["a"],null,Object(o["z"])(e.orderOptions.options,(function(t,n){return Object(o["t"])(),Object(o["e"])("div",{class:"ordering-options",key:t},[Object(o["i"])("p",null,Object(o["E"])(t),1),Object(o["i"])("span",{class:"remove-btn",onClick:function(t){return e.removeOption(n)}},"×",8,["onClick"])])})),128)),Object(o["i"])("div",{class:"create-btn",onClick:t[5]||(t[5]=function(){return e.createOrder&&e.createOrder.apply(e,arguments)})},"創建訂單")])):Object(o["f"])("",!0),""!==e.refKey?(Object(o["t"])(),Object(o["e"])("div",u,[p,Object(o["i"])("img",{src:e.qrcodeUrl},null,8,["src"]),Object(o["i"])("div",{class:"copy-btn",onClick:t[6]||(t[6]=function(t){return e.copyToClipboard("key")})},[Object(o["i"])(m,{class:"icon",name:"link",size:"20px"}),d]),Object(o["i"])("div",{class:"copy-btn",onClick:t[7]||(t[7]=function(t){return e.copyToClipboard("link")})},[Object(o["i"])(m,{class:"icon",name:"link",size:"20px"}),b]),Object(o["i"])("p",{class:"link-btn",onClick:t[8]||(t[8]=function(t){return e.$router.push("/search/"+e.refKey)})},[f])])):Object(o["f"])("",!0)])})),y=(n("498a"),n("d3b7"),n("25f0"),n("caad"),n("2532"),n("a434"),n("6c42")),m=n("5c16"),v=n("f904"),j=n.n(v),g=n("a4c9"),h=Object(o["j"])({name:"Create",components:{icons:m["a"]},setup:function(){var e=Object(y["b"])(),t=Object(o["y"])(""),n=Object(o["y"])(""),a=Object(o["x"])({options:Array()}),c=Object(o["y"])(""),r=Object(o["y"])("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif"),i=g["a"].database().ref("orders"),s=function(){if(""!==t.value.trim()){var n={id:"",name:t.value,create:(new Date).toString(),options:a.options},o=i.push(n);c.value=o.key;var s="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://proladon.github.io/WUO.io/%23/search/";r.value=s+c.value}else e.error("請輸入訂單名稱")},l=function(){var t=n.value.trim();a.options.includes(t)&&e.warning("品項已存在"),""===t||a.options.includes(t)||(a.options.push(t),n.value="")},u=function(e){a.options.splice(e,1)},p=function(t){"link"===t?j()("https://proladon.github.io/WUO.io/#/search/"+c.value):"key"===t&&j()(c.value),e.success("已複製到剪貼簿")};return{qrcodeUrl:r,orderName:t,refKey:c,createOrder:s,optionInput:n,orderOptions:a,addOption:l,removeOption:u,copyToClipboard:p}}});n("7ecd");h.render=O,h.__scopeId="data-v-3b1e423d";t["default"]=h},f904:function(e,t,n){"use strict";var o=n("13d9"),a={"text/plain":"Text","text/html":"Url",default:"Text"},c="Copy to clipboard: #{key}, Enter";function r(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var n,i,s,l,u,p,d=!1;t||(t={}),n=t.debug||!1;try{s=o(),l=document.createRange(),u=document.getSelection(),p=document.createElement("span"),p.textContent=e,p.style.all="unset",p.style.position="fixed",p.style.top=0,p.style.clip="rect(0, 0, 0, 0)",p.style.whiteSpace="pre",p.style.webkitUserSelect="text",p.style.MozUserSelect="text",p.style.msUserSelect="text",p.style.userSelect="text",p.addEventListener("copy",(function(o){if(o.stopPropagation(),t.format)if(o.preventDefault(),"undefined"===typeof o.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var c=a[t.format]||a["default"];window.clipboardData.setData(c,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e);t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))})),document.body.appendChild(p),l.selectNodeContents(p),u.addRange(l);var b=document.execCommand("copy");if(!b)throw new Error("copy command was unsuccessful");d=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),i=r("message"in t?t.message:c),window.prompt(i,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(l):u.removeAllRanges()),p&&document.body.removeChild(p),s()}return d}e.exports=i}}]);
//# sourceMappingURL=chunk-7f6a21d2.f9ede8e2.js.map