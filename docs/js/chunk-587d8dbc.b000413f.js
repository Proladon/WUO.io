(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-587d8dbc"],{"13d9":function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],c=0;c<e.rangeCount;c++)n.push(e.getRangeAt(c));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},2532:function(e,t,n){"use strict";var c=n("23e7"),o=n("5a34"),r=n("1d80"),a=n("ab13");c({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(r(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var c=n("6eeb"),o=n("825a"),r=n("d039"),a=n("ad6d"),i="toString",l=RegExp.prototype,s=l[i],u=r((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),d=s.name!=i;(u||d)&&c(RegExp.prototype,i,(function(){var e=o(this),t=String(e.source),n=e.flags,c=String(void 0===n&&e instanceof RegExp&&!("flags"in l)?a.call(e):n);return"/"+t+"/"+c}),{unsafe:!0})},"5a34":function(e,t,n){var c=n("44e7");e.exports=function(e){if(c(e))throw TypeError("The method doesn't accept regular expressions");return e}},"60ec":function(e,t,n){},"6fe1":function(e,t,n){"use strict";n("60ec")},ab13:function(e,t,n){var c=n("b622"),o=c("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(c){}}return!1}},ad6d:function(e,t,n){"use strict";var c=n("825a");e.exports=function(){var e=c(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},caad:function(e,t,n){"use strict";var c=n("23e7"),o=n("4d64").includes,r=n("44d2");c({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},d879:function(e,t,n){"use strict";n.r(t);n("498a"),n("b0c0");var c=n("7a23"),o=Object(c["P"])("data-v-165d8da2");Object(c["w"])("data-v-165d8da2");var r={id:"create"},a={key:0,class:"quick-order"},i=Object(c["i"])("h2",null,"訂單建立",-1),l=Object(c["i"])("p",null,[Object(c["i"])("strong",null,"建立快速選項")],-1),s={class:"input-container"},u={key:1,class:"share"},d=Object(c["i"])("h2",null,"分享訂單",-1),p=Object(c["i"])("strong",null,"前往訂單 >",-1),b={class:"recent-ordering-container"},f=Object(c["i"])("h2",{align:"center"},"最近建立的訂單",-1),O=Object(c["i"])("span",null,"×",-1),y=Object(c["i"])("strong",null,"ID: ",-1),j=Object(c["i"])("strong",null,"名稱: ",-1),m=Object(c["i"])("strong",null,"編號: ",-1);Object(c["u"])();var v=o((function(e,t,n,o,v,g){return Object(c["t"])(),Object(c["e"])(c["a"],null,[Object(c["i"])("div",r,[""===e.refKey?(Object(c["t"])(),Object(c["e"])("div",a,[i,Object(c["M"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.orderName=t}),placeholder:"訂單名稱"},null,512),[[c["I"],e.orderName]]),l,Object(c["i"])("div",s,[Object(c["M"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.optionInput=t}),placeholder:"品項名稱",onKeypress:t[3]||(t[3]=Object(c["N"])((function(){return e.addOption&&e.addOption.apply(e,arguments)}),["enter"]))},null,544),[[c["I"],e.optionInput]]),Object(c["i"])("div",{class:"add-btn",onClick:t[4]||(t[4]=function(){return e.addOption&&e.addOption.apply(e,arguments)})},"新增")]),(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["z"])(e.orderOptions.options,(function(t,n){return Object(c["t"])(),Object(c["e"])("div",{class:"ordering-options",key:t},[Object(c["i"])("p",null,Object(c["E"])(t),1),Object(c["i"])("span",{class:"remove-btn",onClick:function(t){return e.removeOption(n)}},"×",8,["onClick"])])})),128)),Object(c["i"])("div",{class:"create-btn",onClick:t[5]||(t[5]=function(){return e.createOrder&&e.createOrder.apply(e,arguments)})},"創建訂單")])):Object(c["f"])("",!0),""!==e.refKey?(Object(c["t"])(),Object(c["e"])("div",u,[d,Object(c["i"])("img",{src:e.qrcodeUrl},null,8,["src"]),Object(c["i"])("div",{class:"copy-btn",onClick:t[6]||(t[6]=function(t){return e.copyToClipboard("key")})},"複製訂單編號"),Object(c["i"])("div",{class:"copy-btn",onClick:t[7]||(t[7]=function(t){return e.copyToClipboard("link")})},"複製連結"),Object(c["i"])("p",{class:"link-btn",onClick:t[8]||(t[8]=function(t){return e.$router.push("/search/"+e.refKey.trim())})},[p])])):Object(c["f"])("",!0)]),Object(c["i"])("div",b,[f,(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["z"])(e.recent,(function(t,n){return Object(c["t"])(),Object(c["e"])("div",{class:"recent-ordering-item",key:t.name},[Object(c["i"])("div",{class:"delete-btn",onClick:function(t){return e.deleteRecnt(n)}},[O],8,["onClick"]),Object(c["i"])("p",null,[y,Object(c["h"])(Object(c["E"])(t.id),1)]),Object(c["i"])("p",null,[j,Object(c["h"])(Object(c["E"])(t.name),1)]),Object(c["i"])("p",null,[m,Object(c["h"])(Object(c["E"])(t.key)+" ",1),Object(c["i"])("span",{class:"copy-btn",onClick:function(n){return e.copyKey(t.key)}},"複製",8,["onClick"])])])})),128))])],64)})),g=(n("d3b7"),n("25f0"),n("caad"),n("2532"),n("a434"),n("6c42")),h=n("5502"),C=n("f904"),k=n.n(C),w=n("a4c9"),x=Object(c["j"])({name:"Create",setup:function(){var e=Object(h["b"])(),t=Object(c["c"])((function(){return e.state.recent})),n=Object(g["b"])(),o=Object(c["y"])(""),r=Object(c["y"])(""),a=Object(c["x"])({options:Array()}),i=Object(c["y"])(""),l=Object(c["y"])("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif"),s=w["a"].database().ref("orders"),u=function(){if(""!==o.value.trim()){var t={id:"",name:o.value,create:(new Date).toString(),options:a.options},c=s.push(t);i.value=c.key;var r="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://proladon.github.io/WUO.io/%23/search/";l.value=r+i.value,e.commit("ADD_RECENT",{id:t.id,name:t.name,key:i.value})}else n.error("請輸入訂單名稱")},d=function(){var e=r.value.trim();a.options.includes(e)&&n.warning("品項已存在"),""===e||a.options.includes(e)||(a.options.push(e),r.value="")},p=function(e){a.options.splice(e,1)},b=function(e){"link"===e?k()("https://proladon.github.io/WUO.io/#/search/"+i.value):"key"===e&&k()(i.value),n.success("已複製到剪貼簿")},f=function(t){e.commit("REMOVE_RECENT",t),e.commit("UPDATE_RECENT")},O=function(e){k()(e),n.success("已複製訂單編號")};return{recent:t,qrcodeUrl:l,orderName:o,refKey:i,createOrder:u,optionInput:r,orderOptions:a,addOption:d,removeOption:p,copyToClipboard:b,copyKey:O,deleteRecnt:f}}});n("6fe1");x.render=v,x.__scopeId="data-v-165d8da2";t["default"]=x},f904:function(e,t,n){"use strict";var c=n("13d9"),o={"text/plain":"Text","text/html":"Url",default:"Text"},r="Copy to clipboard: #{key}, Enter";function a(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var n,i,l,s,u,d,p=!1;t||(t={}),n=t.debug||!1;try{l=c(),s=document.createRange(),u=document.getSelection(),d=document.createElement("span"),d.textContent=e,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",(function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),"undefined"===typeof c.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=o[t.format]||o["default"];window.clipboardData.setData(r,e)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,e);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))})),document.body.appendChild(d),s.selectNodeContents(d),u.addRange(s);var b=document.execCommand("copy");if(!b)throw new Error("copy command was unsuccessful");p=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),p=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),i=a("message"in t?t.message:r),window.prompt(i,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),d&&document.body.removeChild(d),l()}return p}e.exports=i}}]);
//# sourceMappingURL=chunk-587d8dbc.b000413f.js.map